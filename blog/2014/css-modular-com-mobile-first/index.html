<!DOCTYPE html><html lang="pt" class="no-js"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width"><meta property="og:title" content="CSS Modular com Mobile First | Luiz Felipe Tartarotti Fialho - Desenvolvedor Front-End"><meta property="og:type" content="blog"><meta property="og:url" content="http://www.felipefialho.com.br/"><meta property="og:image" content="/assets/img/default/luiz-felipe-tartarotti-fialho.png"><title>CSS Modular com Mobile First | Luiz Felipe Tartarotti Fialho - Desenvolvedor Front-End</title><meta name="description" content="Desenvolvedor Front-End. Site para Desenvolvedores Front-End, com dicas do mercado web, tutoriais e projetos na qual participei."><meta name="keywords" content="Desenvolvedor Front-End, Front-End, Desenvolvimento Front-End, HTML, CSS, Javascript, Tableless, Bootstrap, Desenvolvimento Web, Front-End Developer, HTML5, CSS3, Jquery, Front-End, Front-End Engineer, LESS, CSS Components"><meta http-equiv="X-Powered-By" content="DocPad v6.38.1"><link rel="stylesheet" href="/assets/css/style.css"><link rel="shortcut icon" href="/assets/img/icons/favicon2.ico"></head><body><div class="row-fluid"><aside class="span3"><div class="navbar nav-side"><header><div class="photo"><img src="/assets/img/default/luiz-felipe-tartarotti-fialho.png" alt="Cartoon de Luiz Felipe Tartarotti Fialho" height="151" width="100"></div><h1 class="logo"><a href="/">Felipe Fialho</a></h1><h4 itemprop="title">Desenvolvedor Front-End</h4></header><label for="collapse-menu" class="btn btn-navbar"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></label><input class="collapse-open" type="checkbox" id="collapse-menu" aria-hidden="true" hidden><nav class="nav-collapse"><hr><ul class="nav nav-pills nav-stacked" role="navigation"><li class="nav-list-item"><a href="../../../blog/">Blog</a></li><li class="nav-list-item"><a href="../../../projetos/">Projetos</a></li><li class="nav-list-item"><a href="../../../portfolio/">Portfolio</a></li></ul><hr><ul class="social-media inline"><li><a href="/feed.xml"><span class="icon-feed" aria-hidden="true"></span></a></li><li><a href="https://www.facebook.com/LFehh"><span class="icon-facebook" aria-hidden="true"></span></a></li><li><a href="https://twitter.com/LFeh"><span class="icon-twitter" aria-hidden="true"></span></a></li><li><a href="https://github.com/LFeh"><span class="icon-github-2" aria-hidden="true"></span></a></li><li><a href="http://www.linkedin.com/in/lfehfrontend"><span class="icon-linkedin" aria-hidden="true"></span></a></li><li class="hide"><a href="https://plus.google.com/101721187531748531230?rel=author">Google +</a></li></ul><hr><ul class="translate inline"><li><a href="/en/">View in English</a></li></ul></nav></div></aside><section class="wrap span9"><article class="main" role="main"><h1 class="page-header"><a href="../../">Blog</a></h1><span class="date">10/03/2014</span><h2>CSS Modular com Mobile First</h2><span class="author">Por: <a href="https://twitter.com/lfeh">Luiz Felipe Tartarotti Fialho</a></span><div class="post-container"><div class="share-block"><div class="addthis_toolbox addthis_default_style"><a class="addthis_button_facebook_like" fb:like:layout="button_count"></a> <a class="addthis_button_tweet"></a> <a class="addthis_button_google_plusone" g:plusone:size="medium"></a></div><script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51124ac82d52f270"></script></div><div class="post"><p class="lead">Mobile First vai muito além de código, é um pensamento que precisa existir desde o inicio do projeto. Mas nesse artigo vou abordar apenas codificação para tentar deixar o workflow mais agradável.</p><p>A importância de um CSS modularizado e o Atomic Design foi muito difundido nos últimos tempos, eu mesmo já escrevi um <a href="../../2013/um-conto-sobre-componentizacao-e-quebra-de-paradigmas/">artigo sobre o assunto</a>. Mas algo ainda me incomodava ao aplicar First Mobile em conjunto com CSS modular... os Media Queries.</p><h3>O uso tradicional</h3><p>Imagino que a maneira na qual os Media Queries são mais utilizados é adicionando as condicionais no fim do CSS, algo como:</p><code><pre>@media (max-width: 767px) {
  ...
}</pre></code><p>Um dos principais motivos para eu utilizar dessa forma, era nosso bom (só que não) e velho amigo IE8. Ainda forneço suporte mínimo para esse navegador e como ele não aceita Media Queries, eu desenvolvia a versão mais "básica" para desktop, e ia "limpando" conforme a resolução.</p><p>Cheguei a pesquisar plugins que ajudariam a contornar esse problema, mas na época não encontrei nada que funcionasse ou me agradasse plenamente.</p><h3>Novos tempos</h3><p>Mês passado iniciei um novo projeto, e adicionar Media Queries no final do CSS já não me deixava confortável mais.</p><p>A explicação é simples. Imaginem um componente, é de se esperar que toda a funcionalidade atrelada a ele esteja dentro do seu próprio 'include' (para quem usa pré-processadores). Mas a partir do momento que era necessário "ajustar" o funcionamento dele para outras resoluções no 'include' do media querie, as coisas ficavam esquisitas e eu me sentia desconfortável.</p><p>Lembrei então que o <a href="http://getbootstrap.com/">Bootstrap 3</a> já estava trabalhando de uma maneira muito próxima da que eu considerava ideal, e fornecia com a ajuda de plugins, suporte para o IE8. Então conheci o <a href="https://github.com/scottjehl/Respond">Respond.js</a> e todos meus problemas com o IE8 se resolveram.</p><p>Basta adicionar o seguinte código no <code>head</code> e como mágica Media Queries funcionarão perfeitamente no IE.</p><code><pre>&lt;!--[if lt IE 9]&gt;
&lt;script type='text/javascript' src="assets/js/respond.min.js"&gt;&lt;/script&gt;
&lt;![endif]--&gt;</pre></code><h3>Modern Workflow...</h3><p>Não tem segredo. Simplesmente adiciono os Media Queries em sequencia da classe que desejo alterar. Caso use algum pré-processador, isso será ainda mais simples, porque você pode deixar tudo organizado. Usando o LESS como exemplo:</p><code><pre>.navbar {
  margin-top: 20px;
  @media (min-width: @screen-sm-min) {
    float: left;
    width: 25%;
  }
  @media (min-width: @screen-lg-min) {
    position: fixed;
    top: 40px; left: 20px;
  }
}</pre></code><p>Isso vai gerar:</p><code><pre>.navbar {
  margin-top: 20px;
}
@media (min-width: 768px) {
  .navbar {
    float: left;
    width: 25%;
  }
}
@media (min-width: 1200px) {
  .navbar {
    position: fixed;
    top: 40px;
    left: 20px;
  }
}</pre></code><p>Dessa forma conseguimos trabalhar com Mobile First de um jeito realmente interessante, e tudo flui muito naturalmente. Setamos primeiro as propriedades que são comuns para todas as resoluções e <i>progressivamente</i> vamos adicionando as funcionalidades para resoluções maiores.</p><p>E além de tudo, os componentes vão ter todas as propriedades deles dentro do próprio 'include'. Caso queira adicionar ou remover determinado componente, não precisa se preocupar em alterar os Media Queries separados para ajustar o projeto.</p><h3>Plus: Os imprescindíveis automatizadores</h3><p>E claro... nossos melhores amigos <a href="http://gruntjs.com/">Grunt</a> ou <a href="http://gulpjs.com/">Gulp</a> vão melhorar ainda mais esse processo.</p><p>Existe um pequeno problema quando usamos os Media Queries dessa maneira... código desnecessário. Vamos ter milhares de Media Queries repetidos espalhados pelo projeto.</p><p>A boa notícia é que tanto o Grunt quanto o Gulp tem um plugin que resolve esse problema (indicação do <a href="https://www.facebook.com/nicolas.rossett">Nícolas Rossett</a>): <a href="https://github.com/buildingblocks/grunt-combine-media-queries">grunt-combine-media-queries</a> ou <a href="https://github.com/konitter/gulp-combine-media-queries">gulp-combine-media-queries</a>.</p><p>Esse ótimo plugin vai pegar todos os Media Queries espalhados pelo CSS e juntar tudo no final conforme a resolução. Exatamente da maneira que você sempre fez.</p><h3>Conclusão</h3><p>Quero deixar claro que essa é uma preferência pessoal de uso dos Media Queries, caso não se sinta confortável para trabalhar dessa forma, nada impede que continue usando da maneira tradicional, o importante é estar sempre seguro dentro do seu próprio workflow.</p><p class="end">Abraços e até a próxima ;)</p></div><div class="share-block"><div class="addthis_toolbox addthis_default_style"><a class="addthis_button_facebook_like" fb:like:layout="button_count"></a> <a class="addthis_button_tweet"></a> <a class="addthis_button_google_plusone" g:plusone:size="medium"></a></div><script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51124ac82d52f270"></script></div></div><div class="comments"><div id="disqus_thread"></div><script type="text/javascript">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'felipefialho'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();</script><noscript>Por favor habilite o javascript para ver os <a href="http://disqus.com/?ref_noscript">comentários do Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div></article></section></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-40410936-1', 'felipefialho.com');
	  ga('send', 'pageview');</script></body></html>